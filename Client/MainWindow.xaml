<Window x:Class="Client.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Arineta Chat" Height="600" Width="800"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize"
        Background="#f0f0f0">
    <Grid Margin="10">
        <!-- Layout -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <!-- Left Panel -->
            <ColumnDefinition Width="*"/>
            <!-- Right Panel -->
        </Grid.ColumnDefinitions>

        <!-- Active Users Panel -->
        <Border Grid.Column="0" CornerRadius="8" BorderBrush="#CCCCCC" BorderThickness="1" Background="White" Margin="0,0,10,0">
            <StackPanel>
                <Button x:Name="ConnectButton"
                        Content="Connect"
                        Width="55"
                        Height="32"
                        Margin="160,10,0,10"
                        Background="#007ACC"
                        Foreground="White"
                        FontWeight="Bold"
                        FontSize="10"
                        BorderBrush="#007ACC"
                        Click="ConnectButton_Click" RenderTransformOrigin="0.429,-0.25"/>
                <TextBox x:Name="UsernameTextBox"
                         Width="150"
                         Height="32"
                         Margin="-55,-53,10,0"
                         TextAlignment="Left"
                         VerticalAlignment="Center"
                         Padding="5"
                         FontSize="12"
                         Text="Enter Username"
                         Foreground="#333333"
                         BorderBrush="#CCCCCC"/>
                <StackPanel Height="500">
                    <TextBlock Text="Active Users"
                               FontSize="18"
                               FontWeight="Bold"
                               Foreground="#333333"
                               Margin="10,10,10,5"
                               HorizontalAlignment="Center"/>
                    <ListBox x:Name="ActiveUsersListBox"
                             Margin="10,0,10,10"
                             ItemsSource="{Binding ActiveUsers}"
                             DisplayMemberPath="Username"
                             HorizontalAlignment="Stretch"
                             Background="#F9F9F9"
                             BorderThickness="0" Height="400"/>
                    <Button x:Name="RefreshButton"
                        Content="Refresh"
                        Width="96"
                        Height="22"
                        Margin="10,10,17,0"
                        Background="#007ACC"
                        Foreground="White"
                        FontWeight="Bold"
                        FontSize="12"
                        BorderBrush="#007ACC"
                        Click="RefreshButton_Click" RenderTransformOrigin="0.429,-0.25"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Chat Panel -->
        <Border Grid.Column="1" CornerRadius="8" BorderBrush="#CCCCCC" BorderThickness="1" Background="White">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <!-- Messages -->
                    <RowDefinition Height="Auto"/>
                    <!-- Input -->
                </Grid.RowDefinitions>

                <!-- Chat Messages -->
                <ScrollViewer Grid.Row="0" Margin="10,10,10,5" VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <ItemsControl x:Name="MessagesListView" ItemsSource="{Binding Messages}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Margin="0,0,0,10">
                                        <TextBlock Text="{Binding Sender}"
                                                   FontWeight="Bold"
                                                   Foreground="#007ACC"/>
                                        <TextBlock Text="{Binding Content}"
                                                   TextWrapping="Wrap"
                                                   Margin="5,2,0,0"
                                                   Foreground="#333333"/>
                                    </StackPanel>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </ScrollViewer>

                <!-- Message Input -->
                <StackPanel Grid.Row="1" Orientation="Horizontal" Background="#F5F5F5">
                    <TextBox x:Name="MessageTextBox"
                             Width="417"
                             Height="59"                             
                             Margin="0,0,10,0"                 
                             VerticalAlignment="Center"
                             Padding="5"
                             Text="sd"
                             TextWrapping="Wrap"
                             FontSize="12"
                             Foreground="#333333"
                             BorderBrush="#CCCCCC"/>
                    <Button x:Name="SendButton"
                            Content="Send"
                            Width="96"
                            Height="22"
                            Margin="-4,-27,17,0"
                            Background="#007ACC"
                            Foreground="White"
                            FontWeight="Bold"
                            FontSize="12"
                            BorderBrush="#007ACC"
                            Click="SendButton_Click" RenderTransformOrigin="0.429,-0.25"/>
                    <Button x:Name="SendBroadcastButton"
                            Content="Send Broadcast"
                            Width="96"
                            Height="22"
                            Margin="-120,28,10,0"
                            Background="#007ACC"
                            Foreground="White"
                            FontWeight="Bold"
                            FontSize="12"
                            BorderBrush="#007ACC"
                            Click="SendBroadcastButton_Click" RenderTransformOrigin="0.429,-0.25"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>